<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bầu Cua Online - game dân gian, game casino, game slot, chơi game miễn phí</title>
	<link rel="profile" href="https://gmpg.org/xfn/11">
	<meta name="keywords" content="bầu cua, bầu cua online, game dân gian, game casino, game slot, chơi game miễn phí">
	<meta name="description" content="Chơi bầu cua online, game dân gian, game casino, game slot, chơi game miễn phí trực tuyến">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
	<style type="text/css">
		@-webkit-keyframes shake {
		  from, to {
		    -webkit-transform: translate3d(0, 0, 0);
		    transform: translate3d(0, 0, 0);
		  }

		  10%, 30%, 50%, 70%, 90% {
		    -webkit-transform: translate3d(-10px, 0, 0);
		    transform: translate3d(-10px, 0, 0);
		  }

		  20%, 40%, 60%, 80% {
		    -webkit-transform: translate3d(10px, 0, 0);
		    transform: translate3d(10px, 0, 0);
		  }
		}
		@keyframes shake {
		  from, to {
		    -webkit-transform: translate3d(0, 0, 0);
		    transform: translate3d(0, 0, 0);
		  }

		  10%, 30%, 50%, 70%, 90% {
		    -webkit-transform: translate3d(-10px, 0, 0);
		    transform: translate3d(-10px, 0, 0);
		  }

		  20%, 40%, 60%, 80% {
		    -webkit-transform: translate3d(10px, 0, 0);
		    transform: translate3d(10px, 0, 0);
		  }
		}

		.shake {
		  -webkit-animation-name: shake;
		  animation-name: shake;
		}
		.animated {
		  -webkit-animation-duration: 1s;
		  animation-duration: 1s;
		  -webkit-animation-fill-mode: both;
		  animation-fill-mode: both;
		}
	</style>
	<style type="text/css">
		*, ::after, ::before {
		    box-sizing: border-box;
		    margin: 0;
		    padding: 0;
		}
		html, body{
			position: relative;
			width: 100%;
			height: 100%;
			overflow: hidden;
			font-family: 'Montserrat', sans-serif;
		}
		body{
			background-image: url(img/bg.jpg);
			background-size: 100% 100%;
		}
		button{
			margin: 0;
			padding: 0;
			border: none;
			outline: none;
			background: transparent;
		}
		button.on-disable{
			-webkit-filter: grayscale(1);
			-moz-filter: grayscale(1);
			-ms-filter: grayscale(1);
			filter: grayscale(1);
		}
		.btn-toggle img:nth-child(2){
			display: none;
		}
		.btn-toggle.on-selected img:nth-child(2){
			display: block;
		}
		.btn-toggle.on-selected img:nth-child(1){
			display: none;
		}

		#page-title{
			opacity: 0;
			visibility: hidden;
			position: absolute;
			top:0;
			left: 0;
			z-index: -10;
		}
		#page-wrap{
			width: 0;
			height: 0;
			position: absolute;
			top: 50%;
			left: 50%;
		}
		#page-inner{
			width: 1920px;
			height: 1080px;
			position: absolute;
			left: -960px;
			top: -540px;
		}
		#cover{
			position: absolute;
			top:0;
			left: 0;
			z-index: 5;
			width: 100%;
			height: 100%;
		}
		#batup{
			position: absolute;
			z-index: 10;
			top: 70px;
    		left: -945px;
    		transition: all 0.3s;
		}
		#btnMo, #btnXoc{
			position: absolute;
			top: 845px;
    		left: 318px;
    		z-index: 10;
		}
		#btnAuto{
		    position: absolute;
		    top: 1000px;
		    left: 315px;
		    z-index: 10;
		    display: none;
		}

		.on-click{
			-webkit-transform: scale(1.05);
			-moz-transform: scale(1.05);
			transform: scale(1.05);
		}

		#res1{
			position: absolute;
			top:0;
			left: 0;
			z-index: 1;
		}
		#res1 img:nth-child(1){
			position: absolute;
		    top: 218px;
		    left: 380px;
		}
		#res1 img:nth-child(2){
			position: absolute;
		    top: 400px;
    		left: 279px;
		}
		#res1 img:nth-child(3){
			position: absolute;
		    top: 393px;
    		left: 495px;
		}
		#res2{
			position: absolute;
			top:0;
			left: 0;
			z-index: 12;
		}
		#res2 img{
			position: absolute;
			width: 250px;
			height: 250px;
		}
		#wrapbet{
			position: absolute;
			top:0;
			left: 0;
			z-index: 10;
		}
		#wrapbet button img{
			width: 250px;
			height: 250px;	
		}
		#wrapbet button{
			position: absolute;
			z-index: 10;
		}
		#wrapbet button span{
			position: absolute;
		    color: #00BCD4;
		    top: 8px;
		    left: 0;
		    width: 100%;
		    text-align: center;
		    font-size: 38px;
		    font-family: 'Montserrat', sans-serif;

		    -webkit-text-fill-color: #00BCD4; /* Will override color (regardless of order) */
			-webkit-text-stroke-width: 1px;
			-webkit-text-stroke-color: black;
		}
		#res2 .c1, #wrapbet button:nth-child(1){
			top: 190px;
    		left: 933px;
		}
		#res2 .c2, #wrapbet button:nth-child(2){
			top: 460px;
    		left: 933px;
		}
		#res2 .c3, #wrapbet button:nth-child(3){
			top: 190px;
    		left: 1200px;
		}
		#res2 .c4, #wrapbet button:nth-child(4){
			top: 460px;
    		left: 1200px;
		}
		#res2 .c5, #wrapbet button:nth-child(5){
			top: 190px;
    		left: 1475px;
		}
		#res2 .c6, #wrapbet button:nth-child(6){
			top: 460px;
    		left: 1475px;
		}
		#mycoin{
			position: absolute;
			top:60px;
			left: 1030px;
			color: #fff;
			font-size: 80px;
			width: 600px;
			text-align: center;

			-webkit-text-fill-color: white; /* Will override color (regardless of order) */
			  -webkit-text-stroke-width: 3px;
			  -webkit-text-stroke-color: black;
		}
		#numwin, #numcuoc{
			position: absolute;
			top: 852px;
			left: 1368px;
			font-size: 68px;
			z-index: 999;
			color: #00BCD4;
			-webkit-text-fill-color: #00BCD4; /* Will override color (regardless of order) */
			-webkit-text-stroke-width: 2px;
			  -webkit-text-stroke-color: black;
		}

		#numcuoc{
			top: 765px;
			color: #f44336;
			-webkit-text-fill-color: #f44336; /* Will override color (regardless of order) */
		}
		#lbTimmer{
		    font-size: 140px;
		    color: #fff;
		    position: absolute;
		    top: 840px;
		    left: 358px;
		    width: 250px;
		    text-align: center;
		    -webkit-text-fill-color: white; /* Will override color (regardless of order) */
		    -webkit-text-stroke-width: 3px;
		    -webkit-text-stroke-color: black;
		    display: none;
		}
		#lbTimmer.red{
			color: #F44336;
			-webkit-text-fill-color: #F44336;
		}
		.autoPlay #lbTimmer{
			display: block;
		}
		.autoPlay #btnMo, .autoPlay #btnXoc{
			display: none !important;
			visibility: hidden !important;
			z-index: -99999;
		}
	</style>
</head>
<body>
<div id="page-wrap">
	<div id="page-inner">
		<img src="img/disk.png" style="position: absolute;left: 107px;top: 73px;" alt="đĩa bầu cua">
		<img src="img/text_info.png" style="position: absolute;left: 945px;top: 763px;" alt="kết quả bầu cua">
		<img src="img/bowl.png" id="batup" class="" alt="bát úp bầu cua">
		<div id="res1"></div>
		<div id="res2"></div>
		<div id="cover"></div>
		<div id="wrapbet">
			<button>
				<img src="img/c1.png">
			</button>
			<button>
				<img src="img/c2.png">
			</button>
			<button>
				<img src="img/c3.png">
			</button>
			<button>
				<img src="img/c4.png">
			</button>
			<button>
				<img src="img/c5.png">
			</button>
			<button>
				<img src="img/c6.png">
			</button>
		</div>
		<span id="mycoin"></span>
		<span id="numwin"></span>
		<span id="numcuoc"></span>
		<span id="lbTimmer">50</span>
		<h1 id="page-title">Bầu Cua Online - game dân gian, game casino, game slot, chơi game miễn phí</h1>
		<button id="btnMo">
			<img src="img/btnMo.png">
		</button>
		<button id="btnXoc">
			<img src="img/btnXoc.png">
		</button>
		<button id="btnAuto" class="btn-toggle">
			<img src="img/auto-off.png">
			<img src="img/auto-on.png">
		</button>

	</div>
</div>

<script type="text/javascript" src="../libs/jquery.min.js"></script>
<script type="text/javascript">
	var resource = [
		"sound/lac.mp3",
		"img/c1_0.png","img/c2_0.png","img/c3_0.png","img/c4_0.png","img/c5_0.png","img/c6_0.png",
		"img/r1.png","img/r2.png","img/r3.png","img/r4.png","img/r5.png","img/r6.png"
	];
	for( var i=0; i<resource.length; i++ ){
		var src = resource[i];
		if( src.indexOf(".png") != -1 || src.indexOf(".jpg") != -1 ){
			var img = new Image();
			img.src = src;
		}else if( src.indexOf(".mp3") != -1 ){
			var sound = new Audio(src);
		}
	}
	jQuery(function(){
		var jwindow = $(window),
			jpage = $("#page-wrap"),
			jbatup = $("#batup"),
			jbtnMo = $("#btnMo"),
			jbtnXoc = $("#btnXoc"),
			jbtnAuto = $("#btnAuto"),
			jlbTimmer = $("#lbTimmer"),
			jres1 = $("#res1"),
			jres2 = $("#res2"),
			soundLac = new Audio("sound/lac.mp3"),
			autoPlay = false,
			myMoney = 50000,
			stepBet = 5000,
			timeForBet = 20,
			timeForNew = 10,
			canBet = false,
			timmerAuto = null,
			myBet = [0,0,0,0,0,0],
			boKQ = [];

		var kq = [];

		var formatCoin = function(n){
			return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.')
		};

		jQuery("#mycoin").html( formatCoin(myMoney) );


		var scaleView = function(){
			var _W = jwindow.width(),
				_H = jwindow.height(),
				_rotate = "";

			if( _W < _H ){
				var _tmp = _W;
				_W = _H;
				_H = _W;
				_rotate = " rotate(90deg)";
			}

			var _scale = Math.min( _W/1920, _H/1080 );
			jpage.css({
				"-moz-transform": "scale("+ _scale +")"+_rotate,
				"-webkit-transform": "scale("+ _scale +")"+_rotate,
				"transform": "scale("+ _scale +")"+_rotate
			});
		};

		jwindow.on("resize", function(){
			scaleView();
		});
		scaleView();

		var getQueryVariable = function(variable){
			var query = window.location.search.substring(1);
			var vars = query.split("&");
			for (var i=0;i<vars.length;i++) {
				var pair = vars[i].split("=");
				if(pair[0] == variable){return pair[1];}
			}
			return(false);
		};

		var moBat = function(){
			canBet = false;
			jbtnMo.off("click").addClass("on-disable");
			jbtnXoc.off("click").hide();
			jbatup.css("left", "-945px");

			var rand, i, _html = "", _html2 = "", win = 0;
			kq = [];

			for( i=0; i<3; i++ ){
				rand = Math.floor(Math.random() * boKQ.length);
				kq.push(boKQ[rand]);
				_html += '<img src="img/r'+ boKQ[rand] +'.png">';
				_html2 += '<img src="img/c'+ boKQ[rand] +'_0.png" class="c'+ boKQ[rand] +'">';
				boKQ.splice(rand, 1);
			}

			jres1.html(_html);

			if( myBet.length ){
				var count = 0;
				for( var j=0; j<myBet.length; j++ ){
					count = 0;
					if( myBet[j] ){
						for( var i=0; i<kq.length; i++ ){
							if( (j+1) === kq[i] ){
								count++;
							}
						}
						if( count > 0 ) win += (count+1)*myBet[j];
					}
				}
			}

			setTimeout(function(){
				jres2.html(_html2);
				// show KQ
				if( win ){
					myMoney += win;
					jQuery("#numwin").html(formatCoin(win) );
					jQuery("#mycoin").html(formatCoin(myMoney));
				}
			}, 500);
			setTimeout(function(){
				jbtnXoc.removeClass("on-disable").show().on("click", xocDia);
				jbtnMo.hide();
			}, 1500);

			if( autoPlay ){
				var _count = timeForNew;
				jlbTimmer.html( _count>=10?_count: "0"+_count ).addClass("red");
				if( timmerAuto ) clearInterval(timmerAuto);
				timmerAuto = setInterval(function(){
					if( _count <=0 ){
						clearInterval(timmerAuto);
						xocDia();
					}else{
						_count -= 1;
						jlbTimmer.html( _count>=10?_count: "0"+_count );
					}
				}, 1000);
			}

			return false;
		};
		var xocDia = function(){
			canBet = true;
			myBet = [0,0,0,0,0,0];

			if( myMoney == 0 ){
				window.open(window.location.pathname+"?t="+ kq.join(""), "_self");
				return;
			}
			jQuery("#mycoin").html(formatCoin(myMoney));
			jQuery("#wrapbet>button>span").remove();
			jQuery("#numwin").html(0);
			jQuery("#numcuoc").html(0);
			//

			jbtnMo.off("click").hide();
			jbtnXoc.off("click").show().addClass("on-disable");
			jbatup.css("left", "105px");

			jres2.empty();

			setTimeout(function(){
				jbatup.addClass("shake animated");
				jres1.empty();

				soundLac.play();
			}, 700);

			setTimeout(function(){
				jbtnMo.removeClass("on-disable").show().on("click", moBat);
				jbtnXoc.hide();

				jbatup.removeClass("shake animated");
			}, 2500);

			scaleView();

			if( boKQ.length < 5 ){
				for( var i=0; i<200; i++ ){
					boKQ.push(1,2,3,4,5,6);
				}
			}

			boKQ.sort(function(a, b){
				return 0.5 - Math.random();
			});

			if( autoPlay ){
				var _count = timeForBet;
				jlbTimmer.html( _count>=10?_count: "0"+_count ).removeClass("red");
				if( timmerAuto ) clearInterval(timmerAuto);
				timmerAuto = setInterval(function(){
					if( _count <=0 ){
						clearInterval(timmerAuto);
						moBat();
					}else{
						_count -= 1;
						jlbTimmer.html( _count>=10?_count: "0"+_count );
					}
				}, 1000);
			}

			return false;
		};
		var setAutoPlay = function(type){
			console.log("setAuto", type);
			autoPlay = type;
			if( timmerAuto ) clearInterval(timmerAuto);
			if( autoPlay ){
				jbtnAuto.addClass("on-selected");
				$("#page-inner").addClass("autoPlay");

				if( canBet ) moBat();
				else xocDia();
			}else{
				jbtnAuto.removeClass("on-selected");
				$("#page-inner").removeClass("autoPlay");
			}
		};

		jQuery("#wrapbet button").each(function(index){
			// console.log(index, "ccc");
			jQuery(this).off("click").on("click", function(){
				if( canBet && myMoney >= stepBet ){
					myMoney -= stepBet;
					if( !myBet[index] ) myBet[index] = stepBet;
					else myBet[index] += stepBet;
					jQuery("#mycoin").html( formatCoin(myMoney) );

					var lb = jQuery(this).children("span");
					if( !lb.length ) lb = jQuery("<span/>").appendTo(this);
					lb.html( formatCoin(myBet[index]) );

					var totalBet = 0;
					for( var i=0; i<myBet.length; i++ ){
						if( myBet[i] ) totalBet += myBet[i];
					}
					jQuery("#numcuoc").html( formatCoin(totalBet) );
				}
				return false;
			});
		});

		jbtnAuto.off("click").on("click", function(){
			setAutoPlay(!autoPlay);
			return false;
		});

		//
		var _t = getQueryVariable("t"),
			old = [2,3,4];

		if(_t){
			var t = _t.split("");
			if(t.length === 3){
				t[0] = parseInt(t[0]);
				t[1] = parseInt(t[1]);
				t[2] = parseInt(t[2]);
				if( t[0]>0&&t[0]<7&&t[1]>0&&t[1]<7&&t[2]>0&&t[2]<7 ){
					old[0] = t[0];	
					old[1] = t[1];
					old[2] = t[2];
				}
			}
		}
		var _html = "";
		for( var i=0; i<3; i++ ){
			_html += '<img src="img/r'+old[i]+'.png">';
		}
		jres1.html(_html);

		setTimeout(function(){
			jbatup.removeClass("shake animated");
			xocDia();
			jbtnAuto.show();
		}, 1500);

		setInterval(function(){
			jres2.toggle();
		}, 500);

		console.log("v1.1.0");
	});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-169022944-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169022944-3');
</script>

</body>
</html>